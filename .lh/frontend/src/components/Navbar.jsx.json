{
    "sourceFile": "frontend/src/components/Navbar.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1743913117415,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1743913117415,
            "name": "Commit-0",
            "content": "import { useState, useEffect, useRef } from 'react';\r\nimport { HiBars3 } from \"react-icons/hi2\";\r\nimport { FaXmark } from \"react-icons/fa6\";\r\nimport { CgProfile } from \"react-icons/cg\";\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n  const [showProfileModal, setShowProfileModal] = useState(false);\r\n  const profileRef = useRef(null);\r\n  const { logout } = useAuth();\r\n  const location = useLocation(); // Get current route path\r\n\r\n  const token = localStorage.getItem('token'); // Check if token exists in local storage\r\n\r\n  const navItems = token\r\n    ? [\r\n      { name: 'Security Quests', href: '/quests' },\r\n      { name: 'Security Scanner', href: '/security-scanner' },\r\n      { name: 'Deep Analyzer', href: '/ai-playground' },\r\n      { name: 'LeaderBoard', href: '/leaderboard' },\r\n    ]\r\n    : [];\r\n\r\n  // Close modal on outside click\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (profileRef.current && !profileRef.current.contains(event.target)) {\r\n        setShowProfileModal(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const LogOut = async () => {\r\n    await logout();\r\n  }\r\n\r\n  return (\r\n    <header className=\"w-11/12 max-w-maxContent bg-indigoDark-900 backdrop-blur-md bg-opacity-80 fixed -mt-8 z-50\">\r\n      <nav className=\"mx-auto flex max-w-7xl items-center justify-between p-6 lg:px-8\" aria-label=\"Global\">\r\n        <div className=\"flex lg:flex-1\">\r\n          <a href=\"/\" className=\"-m-1.5 p-1.5\">\r\n            <span className=\"sr-only\">CodeShield</span>\r\n            <div className=\"flex items-center\">\r\n              <div className=\"w-8 h-8 rounded-full bg-gradient-to-r from-neonPurple-500 to-neonBlue-500 flex items-center justify-center\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-5 h-5 text-white\">\r\n                  <path fillRule=\"evenodd\" d=\"M12.516 2.17a.75.75 0 00-1.032 0 11.209 11.209 0 01-7.877 3.08.75.75 0 00-.722.515A12.74 12.74 0 002.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 00.374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 00-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08zm3.094 8.016a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n              </div>\r\n              <span className=\"ml-2 text-white font-bold text-xl\">CodeShield</span>\r\n            </div>\r\n          </a>\r\n        </div>\r\n\r\n        <div className=\"flex lg:hidden\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-400\"\r\n            onClick={() => setMobileMenuOpen(true)}\r\n          >\r\n            <span className=\"sr-only\">Open main menu</span>\r\n            <HiBars3 className=\"h-6 w-6\" aria-hidden=\"true\" />\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"hidden lg:flex lg:gap-x-12\">\r\n          {navItems.map((item) => {\r\n            const isActive = location.pathname === item.href;\r\n            return (\r\n              <a\r\n                key={item.name}\r\n                href={item.href}\r\n                className={`text-sm font-semibold leading-6 transition-colors duration-200 ${isActive ? 'text-white border-b-2 border-neonBlue-500 pb-1' : 'text-gray-300 hover:text-white'\r\n                  }`}\r\n              >\r\n                {item.name}\r\n              </a>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n\r\n        {!token ? (\r\n          <div className=\"hidden lg:flex lg:flex-1 lg:justify-end\">\r\n            <a\r\n              href=\"/auth\"\r\n              className=\"rounded-md bg-gradient-to-r from-neonPurple-500 to-neonBlue-500 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:opacity-90 transition-opacity duration-200\"\r\n            >\r\n              Get Started\r\n            </a>\r\n          </div>\r\n        ) : (\r\n          <div className=\"relative pl-6\" ref={profileRef}>\r\n            <button\r\n              onClick={() => setShowProfileModal(!showProfileModal)}\r\n              className=\"text-white text-opacity-90 text-2xl\"\r\n            >\r\n              <CgProfile />\r\n            </button>\r\n\r\n            {showProfileModal && (\r\n              <div className=\"absolute right-0 mt-2 w-40 rounded-md shadow-lg bg-indigoDark-600 ring-1 ring-black ring-opacity-5 z-50\">\r\n                <div className=\"py-1\">\r\n                  <a\r\n                    href=\"/profile\"\r\n                    className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\r\n                  >\r\n                    Profile\r\n                  </a>\r\n                  <button\r\n                    onClick={() => LogOut()}\r\n                    className=\"w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\r\n                  >\r\n                    Logout\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </nav>\r\n\r\n      {/* Mobile menu */}\r\n      <div className={`lg:hidden ${mobileMenuOpen ? 'block' : 'hidden'}`} role=\"dialog\" aria-modal=\"true\">\r\n        <div className=\"fixed inset-0 z-50\" />\r\n        <div className=\"fixed inset-y-0 right-0 z-50 w-full overflow-y-auto bg-indigoDark-900 px-6 py-6 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <a href=\"/\" className=\"-m-1.5 p-1.5\">\r\n              <span className=\"sr-only\">CodeShield</span>\r\n              <div className=\"flex items-center\">\r\n                <div className=\"w-8 h-8 rounded-full bg-gradient-to-r from-neonPurple-500 to-neonBlue-500 flex items-center justify-center\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-5 h-5 text-white\">\r\n                    <path fillRule=\"evenodd\" d=\"M12.516 2.17a.75.75 0 00-1.032 0 11.209 11.209 0 01-7.877 3.08.75.75 0 00-.722.515A12.74 12.74 0 002.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 00.374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 00-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08zm3.094 8.016a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                </div>\r\n                <span className=\"ml-2 text-white font-bold text-xl\">CodeShield</span>\r\n              </div>\r\n            </a>\r\n            <button\r\n              type=\"button\"\r\n              className=\"-m-2.5 rounded-md p-2.5 text-gray-400\"\r\n              onClick={() => setMobileMenuOpen(false)}\r\n            >\r\n              <span className=\"sr-only\">Close menu</span>\r\n              <FaXmark className=\"h-6 w-6\" aria-hidden=\"true\" />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"mt-6 flow-root\">\r\n            <div className=\"-my-6 divide-y divide-gray-500/10\">\r\n              <div className=\"space-y-2 py-6\">\r\n                {navItems.map((item) => (\r\n                  <a\r\n                    key={item.name}\r\n                    href={item.href}\r\n                    className=\"-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-gray-300 hover:bg-indigoDark-800\"\r\n                    onClick={() => setMobileMenuOpen(false)}\r\n                  >\r\n                    {item.name}\r\n                  </a>\r\n                ))}\r\n              </div>\r\n              {!token && (\r\n                <div className=\"py-6\">\r\n                  <a\r\n                    href=\"/auth\"\r\n                    className=\"-mx-3 block rounded-lg px-3 py-2.5 text-base font-semibold leading-7 text-white bg-gradient-to-r from-neonPurple-500 to-neonBlue-500\"\r\n                  >\r\n                    Get Started\r\n                  </a>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"
        }
    ]
}